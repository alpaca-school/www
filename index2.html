<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ã‚¢ãƒ«ãƒ‘ã‚«ã™ãã€œã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ğŸ¦™</title>
  <link rel="icon"
    href="https://lh6.googleusercontent.com/HUVxVFqoa_HrqwbO5sJ2JLzW8zY1A2HWxKXhjxrLsOG__vg47Yqrj85Vc1kSb9FxaFmxYM2tp2IBQ5r8mq0dh36txvYtg3hFfBowEr6rJiBaoG5bSmRmqYHmOA=w16383">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&display=swap');

    body {
      font-family: 'M PLUS Rounded 1c', sans-serif;
    }

    .text-fluid-4xl {
      font-size: clamp(2rem, 6vw, 3rem);
    }

    .text-fluid-xl {
      font-size: clamp(1.1rem, 3vw, 1.5rem);
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      scrollbar-width: none;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    /* ========= ãƒ•ãƒ­ã‚¢æ„å‘³ã¥ã‘ ========= */
    const floorMeta = {
      æ­´å²: "éå»ã‚’çŸ¥ã‚Šã€ä»Šã‚’ç†è§£ã™ã‚‹",
      æ–‡åŒ–: "æ‰‹ä»•äº‹ã¨ç‰©èªã«è§¦ã‚Œã‚‹",
      è‡ªç„¶: "ç”Ÿãã¦ã„ã‚‹ç’°å¢ƒã‚’æ„Ÿã˜ã‚‹",
      å¹³å’Œ: "ç¤¾ä¼šã¨è‡ªåˆ†ã®é–¢ä¿‚ã‚’è€ƒãˆã‚‹",
      ç”Ÿæ´»: "ç”Ÿãã‚‹åŠ›ã‚’èº«ã«ã¤ã‘ã‚‹",
      ä»•äº‹: "ç¤¾ä¼šã¨é–¢ã‚ã‚‹æº–å‚™"
    };

    const floors = ["æ­´å²", "æ–‡åŒ–", "è‡ªç„¶", "å¹³å’Œ", "ç”Ÿæ´»", "ä»•äº‹"];

    /* ========= ãƒ‡ãƒ¼ã‚¿ ========= */
    const floorData = {
      æ­´å²: {
        title: "æ­´å²", color: "bg-pink-100 border-pink-300", headerColor: "bg-pink-200",
        sections: [{ id: "K4", title: "ğŸ  ã‚µãƒ„ãƒã‚¤ãƒ¢ç‰©èª ğŸ ", description: "åŸç”£åœ°ã‹ã‚‰æ—¥æœ¬ã¸ - é£Ÿã¹ç‰©ã®ä¸–ç•Œæ—…è¡Œ", location: "ç‰¹åˆ¥å±•ç¤º", actionType: "modal", modalUrl: "./rekishi/sweet_potato_history.html" }]
      },
      æ–‡åŒ–: {
        title: "æ–‡åŒ–", color: "bg-green-100 border-green-300", headerColor: "bg-green-200",
        sections: [{ id: "S1", title: "èª­è°·ã‚„ã¡ã‚€ã‚“ã®é‡Œ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é™¶èŠ¸é‘‘è³ä¼š", description: "è‡ªå®…ã§ã‚†ã£ãã‚Šå™¨ã®ç¾ã—ã•ã«è§¦ã‚Œã‚‹", location: "4C", actionType: "modal", modalUrl: "./bunka/yachimun.html" }]
      },
      è‡ªç„¶: {
        title: "è‡ªç„¶", color: "bg-orange-100 border-orange-300", headerColor: "bg-orange-200",
        sections: [{ id: "G2", title: "å¥‡è·¡ã®å· å¡©å·", description: "ä¸–ç•Œã«2ã¤ã ã‘ã®å¡©æ°´ãŒæ¹§ãå·", location: "æœ¬éƒ¨ç”º", videoId: "UbKtWt6jrDw" }]
      },
      å¹³å’Œ: {
        title: "å¹³å’Œ", color: "bg-blue-100 border-blue-300", headerColor: "bg-blue-200",
        sections: [{ id: "H5", title: "ã‚„ã‚‹æ°—ã®ãƒ’ãƒŸãƒ„", description: "è¡Œå‹•ã®ã‚ã¨ã«ç”Ÿã¾ã‚Œã‚‹ã‚„ã‚‹æ°—", location: "ç‰¹åˆ¥å±•ç¤º", actionType: "modal", modalUrl: "./heiwa/yaruki.html" }]
      },
      ç”Ÿæ´»: {
        title: "ç”Ÿæ´»", color: "bg-yellow-100 border-yellow-300", headerColor: "bg-yellow-200",
        sections: [{ id: "L1", title: "ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã¨ã®ä»˜ãåˆã„æ–¹", description: "ãŠé‡‘ã®åŸºæœ¬ã‚’å­¦ã¶", location: "ãŠé‡‘", actionType: "modal", modalUrl: "./seikatsu/credit.html" }]
      },
      ä»•äº‹: {
        title: "ä»•äº‹", color: "bg-cyan-100 border-cyan-300", headerColor: "bg-cyan-200",
        sections: [{ id: "W1", title: "çµŒå–¶ç†è«–ã®å¤‰é·", description: "ä»•äº‹ã¨ç¤¾ä¼šã®é–¢ä¿‚ã‚’è€ƒãˆã‚‹", location: "ç‰¹åˆ¥å±•ç¤º", actionType: "modal", modalUrl: "./Research/keiriron-hensei.html" }]
      }
    };

    function App() {
      const [currentFloor, setCurrentFloor] = useState("æ­´å²");
      const [videoUrl, setVideoUrl] = useState(null);
      const [modal, setModal] = useState(null);

      useEffect(() => { lucide.createIcons(); }, [currentFloor, videoUrl, modal]);

      // ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
      useEffect(() => {
        const handleEsc = (e) => {
          if (e.key === 'Escape') {
            setVideoUrl(null);
            setModal(null);
          }
        };
        window.addEventListener('keydown', handleEsc);
        return () => window.removeEventListener('keydown', handleEsc);
      }, []);

      const data = floorData[currentFloor];

      return (
        <div className="min-h-screen bg-gray-50">

          {/* ========= Hero ========= */}
          <section className="bg-gradient-to-b from-sky-100 to-gray-50">
            <div className="max-w-4xl mx-auto p-8 text-center">
              <h1 className="text-fluid-4xl font-extrabold mb-4">ã‚¢ãƒ«ãƒ‘ã‚«ã™ãã€œã‚‹ ğŸ¦™</h1>
              <p className="text-fluid-xl text-gray-700 leading-relaxed">
                å¿ƒã®ä¸­ã§è¦‹ã¤ã‘ãŸã€Œã‚„ã£ã¦ã¿ãŸã„ã€ã‚’ã€<br />
                ç¾å®Ÿã®ä¸–ç•Œã§ãã£ã¨è©¦ã›ã‚‹å­¦ã³ã®å ´æ‰€ã€‚
              </p>
              <p className="mt-4 text-sm text-gray-600">
                å­¦ã¶ãƒ»ã¤ãã‚‹ãƒ»ã¤ãªãŒã‚‹ã€‚<br />
                å­ã©ã‚‚ã‹ã‚‰å¤§äººã¾ã§ã€å­¤ç«‹ã—ãªã„ãŸã‚ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ã³èˆã€‚
              </p>
            </div>
          </section>

          {/* ========= Header ========= */}
          <header className={`${data.headerColor} sticky top-0 z-10 shadow`}>
            <div className="max-w-4xl mx-auto p-4">
              <h2 className="text-xl font-extrabold">{currentFloor}</h2>
              <p className="text-sm text-gray-700">{floorMeta[currentFloor]}</p>
              <div className="flex gap-2 overflow-x-auto no-scrollbar mt-3">
                {floors.map(f => (
                  <button key={f}
                    onClick={() => setCurrentFloor(f)}
                    className={`px-4 py-2 rounded-lg font-bold ${f === currentFloor ? "bg-white" : "bg-white/50"}`}>
                    {f}
                  </button>
                ))}
              </div>
            </div>
          </header>

          {/* ========= Cards ========= */}
          <main className="max-w-4xl mx-auto p-6 grid md:grid-cols-2 gap-4">
            {data.sections.map(s => (
              <div key={s.id} className={`${data.color} border-2 rounded-xl p-6 shadow`}>
                <h3 className="font-bold text-lg mb-2">{s.title}</h3>
                <p className="text-sm text-gray-700 mb-4">{s.description}</p>
                {s.videoId && (
                  <button onClick={() => setVideoUrl(`https://www.youtube.com/embed/${s.videoId}`)}
                    className="bg-red-500 text-white px-3 py-2 rounded font-bold hover:bg-red-600 transition">
                    å‹•ç”»ã‚’è¦‹ã‚‹
                  </button>
                )}
                {s.actionType === "modal" && (
                  <button onClick={() => setModal(s)}
                    className="bg-purple-500 text-white px-3 py-2 rounded font-bold hover:bg-purple-600 transition">
                    å­¦ã¶
                  </button>
                )}
              </div>
            ))}
          </main>

          {/* ========= å‡ºå£ã‚«ãƒ¼ãƒ‰ ========= */}
          <section className="max-w-4xl mx-auto p-6">
            <div className="bg-white border-2 border-dashed rounded-xl p-6 text-center">
              <h3 className="font-bold text-lg mb-2">å­¦ã‚“ã ã“ã¨ã‚’ã€æ¬¡ã®ä¸€æ­©ã¸</h3>
              <p className="text-sm text-gray-600 mb-4">
                å­¦ã³ã¯ã€èª°ã‹ã¨å…±æœ‰ã—ã¦åˆã‚ã¦åŠ›ã«ãªã‚Šã¾ã™ã€‚
              </p>
              <a href="https://furima.ryukyu-tane.com"
                className="bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-600 transition inline-block">
                æ–‡èŠ¸ãƒ•ãƒªãƒãƒ»ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’è¦‹ã‚‹
              </a>
            </div>
          </section>

          {/* ========= Footer ========= */}
          <footer className="bg-gray-800 text-white p-6 text-sm">
            <div className="max-w-4xl mx-auto">
              <p>
                ã‚¢ãƒ«ãƒ‘ã‚«ã™ãã€œã‚‹ã¯ã€ä¸ç™»æ ¡ãƒ»ã²ãã“ã‚‚ã‚Šãƒ»é«˜é½¢æœŸãƒ»å­è‚²ã¦æœŸãªã©ã€<br />
                äººç”Ÿã®é€”ä¸­ã§ç«‹ã¡æ­¢ã¾ã£ãŸäººã®ãŸã‚ã®å­¦ã³å ´ã§ã™ã€‚
              </p>
            </div>
          </footer>

          {/* ========= å‹•ç”»ãƒ¢ãƒ¼ãƒ€ãƒ« ========= */}
          {videoUrl && (
            <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4"
              onClick={() => setVideoUrl(null)}>
              <div className="relative w-full max-w-4xl">
                <button
                  onClick={() => setVideoUrl(null)}
                  className="absolute -top-10 right-0 text-white hover:text-gray-300 text-sm font-bold"
                  aria-label="é–‰ã˜ã‚‹">
                  âœ• é–‰ã˜ã‚‹ (ESC)
                </button>
                <iframe
                  src={videoUrl}
                  className="w-full aspect-video rounded-lg"
                  onClick={(e) => e.stopPropagation()}
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowFullScreen
                />
              </div>
            </div>
          )}

          {/* ========= ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¢ãƒ¼ãƒ€ãƒ« ========= */}
          {modal && (
            <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4"
              onClick={() => setModal(null)}>
              <div className="relative w-full max-w-4xl h-5/6">
                <button
                  onClick={() => setModal(null)}
                  className="absolute -top-10 right-0 text-white hover:text-gray-300 text-sm font-bold"
                  aria-label="é–‰ã˜ã‚‹">
                  âœ• é–‰ã˜ã‚‹ (ESC)
                </button>
                <iframe
                  src={modal.modalUrl}
                  className="w-full h-full rounded-lg bg-white"
                  onClick={(e) => e.stopPropagation()}
                />
              </div>
            </div>
          )}

        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>

</html>