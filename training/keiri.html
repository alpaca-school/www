<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€ç©¶æ¥µç‰ˆã€‘å¹´æœ«èª¿æ•´ãƒ»æ³•å®šèª¿æ›¸ æ¥­å‹™çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  2026</title>
    <style>
        /* ========================================
           CORE STYLES & THEME
           ======================================== */
        :root {
            --primary: #1e3a8a;
            --secondary: #3b82f6;
            --accent: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --bg-gradient: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            color: var(--text-main);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        /* ========================================
           HEADER & NAVIGATION
           ======================================== */
        .header {
            background: #ffffff;
            padding: 40px 30px;
            text-align: center;
            border-bottom: 4px solid var(--secondary);
        }

        .header h1 {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            border: 2px solid var(--secondary);
            background: transparent;
            color: var(--secondary);
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: var(--secondary);
            color: #ffffff;
            box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.39);
        }

        /* ========================================
           QUICK LINKS
           ======================================== */
        .link-bar {
            background: #f1f5f9;
            padding: 20px 40px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            border-bottom: 1px solid var(--border);
        }

        .external-link {
            font-size: 14px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .external-link:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        /* ========================================
           VIEW 1: PONCHI-E (FLOW)
           ======================================== */
        .content {
            padding: 40px;
        }

        .view {
            display: none;
        }

        .view.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .sketch-flow {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 20px;
            background: #f8fafc;
            padding: 25px;
            border-radius: 18px;
            border: 1px solid var(--border);
            position: relative;
        }

        .flow-step::after {
            content: 'â¬‡ï¸';
            position: absolute;
            bottom: -20px;
            left: 40px;
            font-size: 18px;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 20px;
            flex-shrink: 0;
        }

        /* ========================================
           VIEW 2: INFOGRAPHIC (TIMELINE)
           ======================================== */
        .timeline {
            padding-left: 30px;
            border-left: 4px solid var(--secondary);
            margin-left: 20px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            padding-left: 20px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -39px;
            top: 0;
            width: 14px;
            height: 14px;
            background: var(--accent);
            border: 3px solid white;
            border-radius: 50%;
        }

        .time-badge {
            background: var(--accent);
            color: white;
            padding: 2px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
        }

        /* ========================================
           VIEW 3: CHECKLIST + MEMO
           ======================================== */
        .control-panel {
            background: #f8fafc;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }

        .progress-box {
            margin-bottom: 20px;
        }

        .progress-bar-bg {
            background: #e2e8f0;
            height: 28px;
            border-radius: 14px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #10b981, #34d399);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: 0.2s;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: var(--text-muted);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
            margin-left: auto;
        }

        .section-title {
            font-size: 18px;
            font-weight: 800;
            color: var(--primary);
            margin: 30px 0 15px 0;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 5px;
        }

        .task-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: 0.2s;
        }

        .task-card:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow);
        }

        .task-main {
            display: flex;
            align-items: flex-start;
            padding: 18px;
            cursor: pointer;
        }

        .task-card.completed {
            background: #f0fdf4;
            border-color: var(--success);
        }

        .custom-check {
            width: 22px;
            height: 22px;
            border: 2px solid #cbd5e1;
            border-radius: 4px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .task-card.completed .custom-check {
            background: var(--success);
            border-color: var(--success);
        }

        .custom-check::after {
            content: 'âœ“';
            color: white;
            display: none;
        }

        .task-card.completed .custom-check::after {
            display: block;
        }

        .task-text h4 {
            font-size: 16px;
            margin-bottom: 4px;
        }

        .task-text p {
            font-size: 13px;
            color: var(--text-muted);
        }

        /* ãƒ¡ãƒ¢å…¥åŠ›ã‚¨ãƒªã‚¢ */
        .memo-area {
            padding: 0 18px 18px 55px;
        }

        .memo-input {
            width: 100%;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 10px;
            font-size: 13px;
            background: #fcfcfc;
            resize: vertical;
            min-height: 45px;
            transition: 0.3s;
        }

        .memo-input:focus {
            outline: none;
            border-color: var(--secondary);
            background: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        input[type="file"] {
            display: none;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="header">
            <h1>å¹´æœ«èª¿æ•´ãƒ»æ³•å®šèª¿æ›¸ æ¥­å‹™çµ±åˆç®¡ç† 2026</h1>
            <p>å…¨ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ã¨æ”¹å–„ãƒ¡ãƒ¢ã‚’ä¸€å…ƒç®¡ç†</p>

            <div class="nav-tabs">
                <button id="btn-sketch" class="tab-btn active" onclick="switchView('sketch')">ğŸ“ ãƒãƒ³ãƒçµµãƒ•ãƒ­ãƒ¼</button>
                <button id="btn-info" class="tab-btn" onclick="switchView('info')">ğŸ“Š ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•</button>
                <button id="btn-check" class="tab-btn" onclick="switchView('check')">âœ… ä½œæ¥­ãƒã‚§ãƒƒã‚¯ & ãƒ¡ãƒ¢</button>
            </div>
        </div>

        <div class="link-bar">
            <a href="https://kyuuyo.freeway-japan.com/" target="_blank" class="external-link">ğŸ”— ãƒ•ãƒªãƒ¼ã‚¦ã‚§ã‚¤çµ¦ä¸è¨ˆç®— ãƒ­ã‚°ã‚¤ãƒ³</a>
            <a href="https://www.eltax.lta.go.jp/" target="_blank" class="external-link">ğŸ”— eLTAX åœ°æ–¹ç¨ãƒãƒ¼ã‚¿ãƒ«</a>
            <a href="https://www.e-tax.nta.go.jp/" target="_blank" class="external-link">ğŸ”— e-Tax å›½ç¨é›»å­ç”³å‘Š</a>
        </div>

        <div class="content">
            <div id="sketch" class="view active">
                <div class="sketch-flow">
                    <div class="flow-step">
                        <div class="step-circle">1</div>
                        <div><strong>çµ¦ä¸ãƒ‡ãƒ¼ã‚¿ã®ç¢ºå®š</strong><br>1æœˆã€œ12æœˆã®å…¨çµ¦ä¸ãƒ»è³ä¸ã‚’ãƒ•ãƒªãƒ¼ã‚¦ã‚§ã‚¤ã§è¨ˆç®—å®Œäº†ã•ã›ã¾ã™ã€‚</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle">2</div>
                        <div><strong>å¹´èª¿ç²¾ç®—ãƒ»æ›¸é¡ä½œæˆ</strong><br>ç”³å‘Šæ›¸å…¥åŠ›ã€çµ¦ä¸æ”¯æ‰•å ±å‘Šæ›¸ã€æ³•å®šèª¿æ›¸åˆè¨ˆè¡¨ã®é›†è¨ˆã‚’è¡Œã„ã¾ã™ã€‚</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle">3</div>
                        <div><strong>é›»å­ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›</strong><br>eLTAX(CSV)ã¨e-Taxç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã¸æ›¸ãå‡ºã—ã¾ã™ã€‚</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle">4</div>
                        <div><strong>é›»å­ç”³å‘Šå®Œäº†</strong><br>å„è‡ªæ²»ä½“ã¨ç¨å‹™ç½²ã¸é€ä¿¡ã—ã€å—é ˜é€šçŸ¥ã‚’ä¿å­˜ã—ã¾ã™ã€‚</div>
                    </div>
                </div>
            </div>

            <div id="info" class="view">
                <div class="timeline">
                    <div class="timeline-item">
                        <span class="time-badge">DECEMBER</span>
                        <h3>å¹´æœ«èª¿æ•´ã®è¨ˆç®—ã¨ç²¾ç®—</h3>
                        <p>å¾“æ¥­å“¡ã®ç”³å‘Šæ›¸å†…å®¹ã‚’ãƒ•ãƒªãƒ¼ã‚¦ã‚§ã‚¤ã«å…¥åŠ›ã—ã€éä¸è¶³é¡ã‚’12æœˆçµ¦ä¸ã¾ãŸã¯è³ä¸ã§ç²¾ç®—ã€‚</p>
                    </div>
                    <div class="timeline-item">
                        <span class="time-badge">JANUARY</span>
                        <h3>æºæ³‰å¾´åç¥¨ç™ºè¡Œãƒ»å ±å‘Šæ›¸ä½œæˆ</h3>
                        <p>å…¨å“¡åˆ†ã®æºæ³‰å¾´åç¥¨ã‚’äº¤ä»˜ã—ã€å¸‚åŒºç”ºæ‘åˆ¥ã®çµ¦ä¸æ”¯æ‰•å ±å‘Šæ›¸ã€ç¨å‹™ç½²ç”¨ã®åˆè¨ˆè¡¨ã‚’ç¢ºå®šã•ã›ã‚‹ã€‚</p>
                    </div>
                    <div class="timeline-item">
                        <span class="time-badge" style="background:var(--danger)">FEB 2nd DEADLINE</span>
                        <h3>é›»å­ç”³å‘Šé€ä¿¡ã®å®Œé‚</h3>
                        <p>èª­è°·æ‘ãƒ»å®œé‡æ¹¾å¸‚ãƒ»è±Šè¦‹åŸå¸‚ã€ãŠã‚ˆã³æ‰€è½„ç¨å‹™ç½²ã¸ã®ãƒ‡ãƒ¼ã‚¿é€ä¿¡ã‚’çµ‚ãˆã‚‹ã€‚</p>
                    </div>
                </div>
            </div>

            <div id="check" class="view">
                <div class="control-panel">
                    <div class="progress-box">
                        <div style="display:flex; justify-content:space-between; margin-bottom: 8px;">
                            <span style="font-weight:bold">å…¨ä½“é€²æ—ç‡</span>
                            <span id="progress-text">0 / 18 å®Œäº† (0%)</span>
                        </div>
                        <div class="progress-bar-bg">
                            <div id="progress-bar" class="progress-bar-fill">0%</div>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="exportData()">ğŸ“¤ é€²æ—ã¨ãƒ¡ãƒ¢ã‚’txtä¿å­˜</button>
                        <button class="btn btn-secondary" onclick="document.getElementById('fileIn').click()">ğŸ“¥
                            txtã‹ã‚‰å¾©å…ƒ</button>
                        <input type="file" id="fileIn" accept=".txt" onchange="importData(event)">
                        <button class="btn btn-danger" onclick="resetAll()">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                    </div>
                </div>

                <div class="section-title">1. çµ¦ä¸è¨ˆç®—ãƒ»å¹´æœ«èª¿æ•´ã®ç¢ºå®š</div>
                <div id="task-group-1" class="task-list">
                    <div class="task-card" id="card-t1-1">
                        <div class="task-main" onclick="toggleTask('t1-1')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>1æœˆã€œ11æœˆã®çµ¦ä¸è¨ˆç®—ç¢ºå®š</h4>
                                <p>æœˆæ¬¡ã®ãƒ‡ãƒ¼ã‚¿ãŒã™ã¹ã¦æ‰¿èªæ¸ˆã¿ã‹ç¢ºèª</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t1-1"
                                placeholder="æ°—ã¥ã„ãŸã“ã¨ãƒ»æ”¹å–„ç‚¹ãƒ»ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t1-2">
                        <div class="task-main" onclick="toggleTask('t1-2')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>12æœˆçµ¦ä¸è¨ˆç®—ã®å®Œäº†</h4>
                                <p>å¹´èª¿ç²¾ç®—åæ˜ å‰ã®é€šå¸¸çµ¦ä¸åˆ†ã‚’ç¢ºå®š</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t1-2"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t1-3">
                        <div class="task-main" onclick="toggleTask('t1-3')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>ç”³å‘Šæ›¸ã®å›åãƒ»å…¥åŠ›</h4>
                                <p>æ‰¶é¤Šãƒ»ä¿é™ºæ–™ãƒ»ä½å®…ãƒ­ãƒ¼ãƒ³ç­‰ã®æƒ…å ±ã‚’å…¥åŠ›</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t1-3"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t1-4">
                        <div class="task-main" onclick="toggleTask('t1-4')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>å¹´èª¿è¨ˆç®—ã®å®Ÿè¡Œãƒ»ç¢ºå®š</h4>
                                <p>éä¸è¶³ç²¾ç®—é¡ã®ç¢ºå®šã¨ãƒ­ãƒƒã‚¯</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t1-4"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t1-5">
                        <div class="task-main" onclick="toggleTask('t1-5')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>æºæ³‰å¾´åç¥¨ã®äº¤ä»˜</h4>
                                <p>å¾“æ¥­å“¡ã¸ã®PDFæä¾›ã¾ãŸã¯åŸæœ¬äº¤ä»˜</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t1-5"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                </div>

                <div class="section-title">2. å ±å‘Šæ›¸ãƒ»åˆè¨ˆè¡¨ã®ä½œæˆ (ãƒ•ãƒªãƒ¼ã‚¦ã‚§ã‚¤)</div>
                <div id="task-group-2" class="task-list">
                    <div class="task-card" id="card-t2-1">
                        <div class="task-main" onclick="toggleTask('t2-1')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>çµ¦ä¸æ”¯æ‰•å ±å‘Šæ›¸ã®ä½œæˆ</h4>
                                <p>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€Œçµ¦ä¸æ”¯æ‰•å ±å‘Šæ›¸ã€ã§ã®é›†è¨ˆ</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t2-1"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t2-2">
                        <div class="task-main" onclick="toggleTask('t2-2')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>æ³•å®šèª¿æ›¸åˆè¨ˆè¡¨ã®é›†è¨ˆ</h4>
                                <p>æ‰€å¾—ç¨å¾´åé«˜è¨ˆç®—æ›¸ã¨ã®é‡‘é¡ç…§åˆ</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t2-2"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t2-3">
                        <div class="task-main" onclick="toggleTask('t2-3')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>eLTAXç”¨CSVã®å‡ºåŠ›</h4>
                                <p>åœ°æ–¹ç¨ãƒãƒ¼ã‚¿ãƒ«æå‡ºç”¨ã®ãƒ‡ãƒ¼ã‚¿æ›¸ãå‡ºã—</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t2-3"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t2-4">
                        <div class="task-main" onclick="toggleTask('t2-4')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>e-Taxç”¨ãƒ‡ãƒ¼ã‚¿ã®å‡ºåŠ›</h4>
                                <p>ç¨å‹™ç½²æå‡ºç”¨ã®åˆè¨ˆè¡¨ãƒ‡ãƒ¼ã‚¿æ›¸ãå‡ºã—</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t2-4"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                </div>

                <div class="section-title">3. å„è‡ªæ²»ä½“ãƒ»ç¨å‹™ç½²ã¸ã®æå‡º</div>
                <div id="task-group-3" class="task-list">
                    <div class="task-card" id="card-t3-1">
                        <div class="task-main" onclick="toggleTask('t3-1')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>èª­è°·æ‘ï¼šé€ä¿¡å®Œäº†</h4>
                                <p>å—é ˜é€šçŸ¥ã®ç¢ºèªã¨PDFä¿å­˜</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t3-1"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t3-2">
                        <div class="task-main" onclick="toggleTask('t3-2')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>å®œé‡æ¹¾å¸‚ï¼šé€ä¿¡å®Œäº†</h4>
                                <p>å—é ˜é€šçŸ¥ã®ç¢ºèªã¨PDFä¿å­˜</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t3-2"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t3-3">
                        <div class="task-main" onclick="toggleTask('t3-3')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>è±Šè¦‹åŸå¸‚ï¼šé€ä¿¡å®Œäº†</h4>
                                <p>å—é ˜é€šçŸ¥ã®ç¢ºèªã¨PDFä¿å­˜</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t3-3"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t3-4">
                        <div class="task-main" onclick="toggleTask('t3-4')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>ç¨å‹™ç½²ï¼šé€ä¿¡å®Œäº†</h4>
                                <p>æ³•å®šèª¿æ›¸åˆè¨ˆè¡¨ã®e-Taxé€ä¿¡å®Œäº†</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t3-4"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                    <div class="task-card" id="card-t3-5">
                        <div class="task-main" onclick="toggleTask('t3-5')">
                            <div class="custom-check"></div>
                            <div class="task-text">
                                <h4>æœ€çµ‚ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã®ä¿å­˜</h4>
                                <p>å…¨ã¦ã®é€ä¿¡æ§ãˆã‚’ã‚µãƒ¼ãƒãƒ¼ã®æŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€ã¸</p>
                            </div>
                        </div>
                        <div class="memo-area"><textarea class="memo-input" id="memo-t3-5"
                                placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›..."></textarea></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* å…¨ã¦ã®ã‚¿ã‚¹ã‚¯IDãƒªã‚¹ãƒˆ */
        const taskIds = [
            't1-1', 't1-2', 't1-3', 't1-4', 't1-5',
            't2-1', 't2-2', 't2-3', 't2-4',
            't3-1', 't3-2', 't3-3', 't3-4', 't3-5'
        ];

        /* å„ã‚«ãƒ¼ãƒ‰ã®çŠ¶æ…‹ç®¡ç† */
        let statusMap = {};
        taskIds.forEach(id => statusMap[id] = false);

        /** ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ **/
        function switchView(id) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('btn-' + id).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /** ã‚¿ã‚¹ã‚¯å®Œäº†åˆ‡ã‚Šæ›¿ãˆ **/
        function toggleTask(id) {
            statusMap[id] = !statusMap[id];
            const card = document.getElementById('card-' + id);
            if (statusMap[id]) {
                card.classList.add('completed');
            } else {
                card.classList.remove('completed');
            }
            updateProgress();
        }

        /** é€²æ—ãƒãƒ¼ã®æ›´æ–° **/
        function updateProgress() {
            const total = taskIds.length;
            const checked = Object.values(statusMap).filter(v => v).length;
            const percent = Math.round((checked / total) * 100);

            document.getElementById('progress-bar').style.width = percent + '%';
            document.getElementById('progress-bar').innerText = percent + '%';
            document.getElementById('progress-text').innerText = `${checked} / ${total} å®Œäº† (${percent}%)`;
        }

        /** ãƒ‡ãƒ¼ã‚¿ä¿å­˜ (ãƒã‚§ãƒƒã‚¯çŠ¶æ…‹ + ãƒ¡ãƒ¢å†…å®¹) **/
        function exportData() {
            const exportObj = {
                checks: statusMap,
                memos: {}
            };
            taskIds.forEach(id => {
                exportObj.memos[id] = document.getElementById('memo-' + id).value;
            });

            const json = JSON.stringify(exportObj, null, 2);
            const blob = new Blob([json], { type: 'text/plain' });
            const now = new Date();
            const stamp = now.getFullYear() + ('0' + (now.getMonth() + 1)).slice(-2) + ('0' + now.getDate()).slice(-2) + "_" + ('0' + now.getHours()).slice(-2) + ('0' + now.getMinutes()).slice(-2);

            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `å¹´èª¿æ¥­å‹™ç®¡ç†_é€²æ—ãƒ¡ãƒ¢_${stamp}.txt`;
            a.click();
        }

        /** ãƒ‡ãƒ¼ã‚¿å¾©å…ƒ **/
        function importData(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function (evt) {
                try {
                    const data = JSON.parse(evt.target.result);
                    // ãƒã‚§ãƒƒã‚¯çŠ¶æ…‹ã®å¾©å…ƒ
                    statusMap = data.checks;
                    taskIds.forEach(id => {
                        const card = document.getElementById('card-' + id);
                        if (statusMap[id]) card.classList.add('completed');
                        else card.classList.remove('completed');
                        // ãƒ¡ãƒ¢ã®å¾©å…ƒ
                        if (data.memos && data.memos[id]) {
                            document.getElementById('memo-' + id).value = data.memos[id];
                        }
                    });
                    updateProgress();
                    alert('ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¡ãƒ¢ã‚’å®Œå…¨ã«å¾©å…ƒã—ã¾ã—ãŸã€‚');
                } catch (err) {
                    alert('èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
                }
            };
            reader.readAsText(file);
            e.target.value = '';
        }

        /** ãƒªã‚»ãƒƒãƒˆ **/
        function resetAll() {
            if (confirm('å…¨ã¦ã®é€²æ—ã¨ãƒ¡ãƒ¢ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
                taskIds.forEach(id => {
                    statusMap[id] = false;
                    document.getElementById('card-' + id).classList.remove('completed');
                    document.getElementById('memo-' + id).value = '';
                });
                updateProgress();
            }
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            updateProgress();
        });
    </script>

</body>

</html>