<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小学2年生 漢字練習</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel CDN for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const KanjiPracticeApp = () => {
          // 小学2年生の漢字データ（一部抜粋）
          const kanjiData = [
            { kanji: '水', onyomi: ['スイ'], kunyomi: ['みず'], meaning: '水' },
            { kanji: '火', onyomi: ['カ'], kunyomi: ['ひ'], meaning: '火' },
            { kanji: '木', onyomi: ['モク', 'ボク'], kunyomi: ['き'], meaning: '木' },
            { kanji: '金', onyomi: ['キン'], kunyomi: ['かね'], meaning: '金' },
            { kanji: '土', onyomi: ['ド', 'ト'], kunyomi: ['つち'], meaning: '土' },
            { kanji: '日', onyomi: ['ニチ', 'ジツ'], kunyomi: ['ひ', 'か'], meaning: '日' },
            { kanji: '月', onyomi: ['ゲツ', 'ガツ'], kunyomi: ['つき'], meaning: '月' },
            { kanji: '年', onyomi: ['ネン'], kunyomi: ['とし'], meaning: '年' },
            { kanji: '時', onyomi: ['ジ'], kunyomi: ['とき'], meaning: '時間' },
            { kanji: '間', onyomi: ['カン', 'ケン'], kunyomi: ['あいだ', 'ま'], meaning: '間' },
            { kanji: '分', onyomi: ['ブン', 'フン'], kunyomi: ['わ-ける'], meaning: '分ける' },
            { kanji: '半', onyomi: ['ハン'], kunyomi: ['なか-ば'], meaning: '半分' },
            { kanji: '方', onyomi: ['ホウ'], kunyomi: ['かた'], meaning: '方向' },
            { kanji: '北', onyomi: ['ホク'], kunyomi: ['きた'], meaning: '北' },
            { kanji: '南', onyomi: ['ナン'], kunyomi: ['みなみ'], meaning: '南' },
            { kanji: '東', onyomi: ['トウ'], kunyomi: ['ひがし'], meaning: '東' },
            { kanji: '西', onyomi: ['セイ', 'サイ'], kunyomi: ['にし'], meaning: '西' },
            { kanji: '長', onyomi: ['チョウ'], kunyomi: ['なが-い'], meaning: '長い' },
            { onyomi: ['コウ'], kunyomi: ['たか-い'], meaning: '高い' },
            { kanji: '新', onyomi: ['シン'], kunyomi: ['あたら-しい'], meaning: '新しい' }
          ];

          const [currentKanji, setCurrentKanji] = useState(null);
          const [questionType, setQuestionType] = useState('onyomi');
          const [questionHistory, setQuestionHistory] = useState([]); // 出題履歴を追跡
          const [options, setOptions] = useState([]);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [showResult, setShowResult] = useState(false);
          const [score, setScore] = useState(0);
          const [totalQuestions, setTotalQuestions] = useState(0);
          const [gameStarted, setGameStarted] = useState(false);
          const [reviewMode, setReviewMode] = useState(false);
          const [reviewKanji, setReviewKanji] = useState([]);
          const [nextReviewTime, setNextReviewTime] = useState(null);
          const [timeUntilReview, setTimeUntilReview] = useState(0);
          const [studiedKanji, setStudiedKanji] = useState([]);

          // タイピングゲーム関連の状態
          const [showTypingGame, setShowTypingGame] = useState(false);
          const [typingInput, setTypingInput] = useState('');
          const [typingTarget, setTypingTarget] = useState('');
          const [typingQuestionType, setTypingQuestionType] = useState('onyomi');
          const [typingResult, setTypingResult] = useState(null);
          const [typingScore, setTypingScore] = useState(0);
          const [totalTypingQuestions, setTotalTypingQuestions] = useState(0);

          // 出題タイプを決定する関数（2-3問ごとに切り替え）
          const determineQuestionType = () => {
            const recentHistory = questionHistory.slice(-3); // 直近3問の履歴
            const lastType = recentHistory.length > 0 ? recentHistory[recentHistory.length - 1] : null;
            
            // 同じタイプが2-3問連続したら切り替え
            const sameTypeCount = recentHistory.reverse().findIndex(type => type !== lastType);
            const consecutiveCount = sameTypeCount === -1 ? recentHistory.length : sameTypeCount;
            
            if (consecutiveCount >= 2 && Math.random() > 0.3) {
              // 2問以上連続で70%の確率で切り替え
              return lastType === 'onyomi' ? 'kunyomi' : 'onyomi';
            } else if (consecutiveCount >= 3) {
              // 3問連続なら必ず切り替え
              return lastType === 'onyomi' ? 'kunyomi' : 'onyomi';
            } else {
              // ランダムに決定
              return Math.random() < 0.5 ? 'onyomi' : 'kunyomi';
            }
          };

          // 5分間隔復習タイマー
          useEffect(() => {
            let timer;
            
            if (gameStarted && !reviewMode && studiedKanji.length > 0) {
              timer = setInterval(() => {
                const now = Date.now();
                if (nextReviewTime && now >= nextReviewTime) {
                  startReviewTest();
                } else if (nextReviewTime) {
                  setTimeUntilReview(Math.max(0, Math.ceil((nextReviewTime - now) / 1000)));
                }
              }, 1000);
            }

            return () => {
              if (timer) clearInterval(timer);
            };
          }, [gameStarted, reviewMode, nextReviewTime, studiedKanji]);

          // 復習テストを開始
          const startReviewTest = () => {
            if (studiedKanji.length === 0) return;
            
            const shuffledKanji = [...studiedKanji].sort(() => Math.random() - 0.5);
            const reviewSelection = shuffledKanji.slice(0, Math.min(5, shuffledKanji.length));
            
            setReviewKanji(reviewSelection);
            setReviewMode(true);
            setNextReviewTime(null);
            setTimeUntilReview(0);
            
            generateReviewQuestion(reviewSelection);
          };

          // 復習テスト用問題生成
          const generateReviewQuestion = (kanjiList = reviewKanji) => {
            if (kanjiList.length === 0) return;
            
            const randomKanji = kanjiList[Math.floor(Math.random() * kanjiList.length)];
            const questionType = determineQuestionType();
            
            setCurrentKanji(randomKanji);
            setQuestionType(questionType);
            setQuestionHistory(prev => [...prev, questionType]);
            setSelectedAnswer(null);
            setShowResult(false);

            const correctAnswers = questionType === 'onyomi' ? randomKanji.onyomi : randomKanji.kunyomi;
            const correctAnswer = correctAnswers[Math.floor(Math.random() * correctAnswers.length)];
            
            const wrongOptions = [];
            const otherKanji = kanjiList.filter(k => k.kanji !== randomKanji.kanji);
            
            while (wrongOptions.length < 3 && otherKanji.length > 0) {
              const randomOther = otherKanji[Math.floor(Math.random() * otherKanji.length)];
              const wrongAnswer = questionType === 'onyomi' 
                ? randomOther.onyomi[Math.floor(Math.random() * randomOther.onyomi.length)]
                : randomOther.kunyomi[Math.floor(Math.random() * randomOther.kunyomi.length)];
              
              if (!wrongOptions.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                wrongOptions.push(wrongAnswer);
              }
            }

            while (wrongOptions.length < 3) {
              const randomOther = kanjiData[Math.floor(Math.random() * kanjiData.length)];
              if (randomOther.kanji === randomKanji.kanji) continue;
              
              const wrongAnswer = questionType === 'onyomi' 
                ? randomOther.onyomi[Math.floor(Math.random() * randomOther.onyomi.length)]
                : randomOther.kunyomi[Math.floor(Math.random() * randomOther.kunyomi.length)];
              
              if (!wrongOptions.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                wrongOptions.push(wrongAnswer);
              }
            }

            const allOptions = [correctAnswer, ...wrongOptions].sort(() => Math.random() - 0.5);
            setOptions(allOptions.map(option => ({
              text: option,
              isCorrect: option === correctAnswer
            })));
          };

          // 新しい問題を生成
          const generateQuestion = () => {
            if (reviewMode) {
              generateReviewQuestion();
              return;
            }
            
            const randomKanji = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            const questionType = determineQuestionType();
            
            setCurrentKanji(randomKanji);
            setQuestionType(questionType);
            setQuestionHistory(prev => [...prev, questionType]);
            setSelectedAnswer(null);
            setShowResult(false);

            setStudiedKanji(prev => {
              if (!prev.find(k => k.kanji === randomKanji.kanji)) {
                const newStudied = [...prev, randomKanji];
                
                if (newStudied.length === 1) {
                  const reviewTime = Date.now() + 5 * 60 * 1000;
                  setNextReviewTime(reviewTime);
                }
                
                return newStudied;
              }
              return prev;
            });

            const correctAnswers = questionType === 'onyomi' ? randomKanji.onyomi : randomKanji.kunyomi;
            const correctAnswer = correctAnswers[Math.floor(Math.random() * correctAnswers.length)];
            
            const wrongOptions = [];
            const otherKanji = kanjiData.filter(k => k.kanji !== randomKanji.kanji);
            
            while (wrongOptions.length < 3) {
              const randomOther = otherKanji[Math.floor(Math.random() * otherKanji.length)];
              const wrongAnswer = questionType === 'onyomi' 
                ? randomOther.onyomi[Math.floor(Math.random() * randomOther.onyomi.length)]
                : randomOther.kunyomi[Math.floor(Math.random() * randomOther.kunyomi.length)];
              
              if (!wrongOptions.includes(wrongAnswer) && wrongAnswer !== correctAnswer) {
                wrongOptions.push(wrongAnswer);
              }
            }

            const allOptions = [correctAnswer, ...wrongOptions].sort(() => Math.random() - 0.5);
            setOptions(allOptions.map(option => ({
              text: option,
              isCorrect: option === correctAnswer
            })));
          };

          // タイピングゲームを開始
          const startTypingGame = () => {
            if (!currentKanji) return;
            
            // ランダムに音読み・訓読みを選択
            const typingType = Math.random() < 0.5 ? 'onyomi' : 'kunyomi';
            const targetReadings = typingType === 'onyomi' ? currentKanji.onyomi : currentKanji.kunyomi;
            const target = targetReadings[Math.floor(Math.random() * targetReadings.length)];
            
            setTypingQuestionType(typingType);
            setTypingTarget(target);
            setTypingInput('');
            setTypingResult(null);
            setShowTypingGame(true);
          };

          // タイピングの答えをチェック
          const checkTypingAnswer = () => {
            const isCorrect = typingInput.trim() === typingTarget;
            setTypingResult(isCorrect);
            setTotalTypingQuestions(prev => prev + 1);
            
            if (isCorrect) {
              setTypingScore(prev => prev + 1);
              playSound(true);
            } else {
              playSound(false);
            }
          };

          // タイピングゲームを終了
          const closeTypingGame = () => {
            setShowTypingGame(false);
            setTypingInput('');
            setTypingResult(null);
          };

          // 効果音を再生
          const playSound = (isCorrect) => {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            if (isCorrect) {
              const frequencies = [523.25, 659.25];
              frequencies.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime + index * 0.1);
                oscillator.stop(audioContext.currentTime + 0.5);
              });
            } else {
              const oscillator = audioContext.createOscillator();
              const gainNode = audioContext.createGain();
              
              oscillator.connect(gainNode);
              gainNode.connect(audioContext.destination);
              
              oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
              oscillator.type = 'sawtooth';
              
              gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
              
              oscillator.start();
              oscillator.stop(audioContext.currentTime + 1);
            }
          };

          // 音声読み上げ
          const speakAnswer = (kanji, onyomi, kunyomi) => {
            if ('speechSynthesis' in window) {
              speechSynthesis.cancel();
              
              const utterance = new SpeechSynthesisUtterance();
              const text = `答えは、音読み${onyomi.join('、')}、訓読み${kunyomi.join('、')}です。`;
              utterance.text = text;
              utterance.lang = 'ja-JP';
              utterance.rate = 0.8;
              utterance.pitch = 1;
              
              speechSynthesis.speak(utterance);
            }
          };

          const speakAnswerManually = () => {
            if (currentKanji) {
              speakAnswer(currentKanji.kanji, currentKanji.onyomi, currentKanji.kunyomi);
            }
          };

          // 答えを選択
          const selectAnswer = (option) => {
            if (showResult) return;
            
            setSelectedAnswer(option);
            setShowResult(true);
            setTotalQuestions(prev => prev + 1);
            
            playSound(option.isCorrect);
            
            if (option.isCorrect) {
              setScore(prev => prev + 1);
            }

            setTimeout(() => {
              speakAnswer(currentKanji.kanji, currentKanji.onyomi, currentKanji.kunyomi);
            }, 1000);
          };

          // 次の問題へ
          const nextQuestion = () => {
            if (reviewMode) {
              if (reviewKanji.length > 0) {
                generateReviewQuestion();
              } else {
                setReviewMode(false);
                const nextTime = Date.now() + 5 * 60 * 1000;
                setNextReviewTime(nextTime);
                generateQuestion();
              }
            } else {
              generateQuestion();
            }
          };

          const exitReviewMode = () => {
            setReviewMode(false);
            setReviewKanji([]);
            const nextTime = Date.now() + 5 * 60 * 1000;
            setNextReviewTime(nextTime);
            generateQuestion();
          };

          const startGame = () => {
            setGameStarted(true);
            setScore(0);
            setTotalQuestions(0);
            setTypingScore(0);
            setTotalTypingQuestions(0);
            setQuestionHistory([]);
            generateQuestion();
          };

          const resetGame = () => {
            setGameStarted(false);
            setCurrentKanji(null);
            setScore(0);
            setTotalQuestions(0);
            setTypingScore(0);
            setTotalTypingQuestions(0);
            setReviewMode(false);
            setReviewKanji([]);
            setStudiedKanji([]);
            setNextReviewTime(null);
            setTimeUntilReview(0);
            setQuestionHistory([]);
            setShowTypingGame(false);
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
              <div className="max-w-2xl mx-auto">
                {/* ヘッダー */}
                <div className="text-center mb-8">
                  <h1 className="text-3xl font-bold text-indigo-800 mb-2 flex items-center justify-center gap-2">
                    <span>{'📖'}</span>
                    小学2年生 漢字練習
                  </h1>
                  <p className="text-gray-600">音読み・訓読みを覚えよう！</p>
                </div>

                {/* タイピングゲームモーダル */}
                {showTypingGame && (
                  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white rounded-xl shadow-xl p-6 w-full max-w-md">
                      <div className="text-center mb-6">
                        <div className="flex items-center justify-center gap-2 mb-4">
                          <span>{'⌨️'}</span>
                          <h3 className="text-xl font-bold text-gray-800">タイピングチャレンジ</h3>
                        </div>
                        <div className="text-4xl font-bold text-purple-800 mb-2">
                          {currentKanji?.kanji}
                        </div>
                        <p className="text-gray-600 mb-4">
                          この漢字の<span className="font-semibold text-purple-600">
                            {typingQuestionType === 'onyomi' ? '音読み' : '訓読み'}
                          </span>を入力してください
                        </p>
                      </div>

                      <div className="mb-4">
                        <input
                          type="text"
                          value={typingInput}
                          onChange={(e) => setTypingInput(e.target.value)}
                          onKeyPress={(e) => e.key === 'Enter' && !typingResult && checkTypingAnswer()}
                          className="w-full p-3 border-2 border-gray-300 rounded-lg text-center text-lg font-medium focus:border-purple-500 focus:outline-none"
                          placeholder="読み方を入力..."
                          disabled={typingResult !== null}
                          autoFocus
                        />
                      </div>

                      {typingResult !== null ? (
                        <div className="text-center">
                          <div className={`text-lg font-semibold mb-3 ${
                            typingResult ? 'text-green-600' : 'text-red-600'
                          }`}>
                            {typingResult ? '正解です！' : '不正解です...'}
                          </div>
                          <div className="bg-gray-50 rounded-lg p-3 mb-4 text-sm">
                            <p className="font-semibold text-gray-800 mb-1">正解:</p>
                            <p className="text-lg font-medium text-purple-600">{typingTarget}</p>
                          </div>
                          <button
                            onClick={closeTypingGame}
                            className="bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors"
                          >
                            戻る
                          </button>
                        </div>
                      ) : (
                        <div className="flex gap-2">
                          <button
                            onClick={checkTypingAnswer}
                            className="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"
                            disabled={!typingInput.trim()}
                          >
                            答える
                          </button>
                          <button
                            onClick={closeTypingGame}
                            className="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors"
                          >
                            キャンセル
                          </button>
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {!gameStarted ? (
                  /* スタート画面 */
                  <div className="bg-white rounded-xl shadow-lg p-8 text-center">
                    <div className="mb-6">
                      <div className="text-6xl mb-4"></div>
                      <h2 className="text-2xl font-semibold text-gray-800 mb-2">
                        漢字の読み方を練習しましょう！
                      </h2>
                      <p className="text-gray-600 mb-2">
                        音読みと訓読みの問題が出題されます
                      </p>
                      <p className="text-sm text-gray-500">
                        2-3問ごとに出題タイプが切り替わります
                      </p>
                    </div>
                    <button
                      onClick={startGame}
                      className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg text-lg transition-colors"
                    >
                      練習を始める
                    </button>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {/* スコア表示 */}
                    <div className="bg-white rounded-xl shadow-lg p-4">
                      <div className="flex justify-between items-center">
                        <div className="flex items-center gap-4">
                          <div className="flex items-center gap-2">
                            <span>{'⭐'}</span>
                            <span className="font-semibold">
                              選択: {score}/{totalQuestions}
                            </span>
                          </div>
                          <div className="flex items-center gap-2">
                            <span>{'⌨️'}</span>
                            <span className="font-semibold">
                              タイピング: {typingScore}/{totalTypingQuestions}
                            </span>
                          </div>
                          
                          {reviewMode ? (
                            <div className="flex items-center gap-2 bg-orange-100 px-3 py-1 rounded-full">
                              <span>{'🔁'}</span>
                              <span className="text-sm text-orange-700 font-medium">復習モード</span>
                            </div>
                          ) : (
                            studiedKanji.length > 0 && timeUntilReview > 0 && (
                              <div className="flex items-center gap-2 bg-blue-100 px-3 py-1 rounded-full">
                                <span>{'⏰'}</span>
                                <span className="text-sm text-blue-700">
                                  復習まで {Math.floor(timeUntilReview / 60)}:{(timeUntilReview % 60).toString().padStart(2, '0')}
                                </span>
                              </div>
                            )
                          )}
                        </div>
                        
                        <div className="flex items-center gap-2">
                          {reviewMode && (
                            <button
                              onClick={exitReviewMode}
                              className="text-sm bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded transition-colors"
                            >
                              復習終了
                            </button>
                          )}
                          <button
                            onClick={resetGame}
                            className="flex items-center gap-1 text-gray-600 hover:text-gray-800 transition-colors"
                          >
                            {'🔄'}
                            リセット
                          </button>
                        </div>
                      </div>
                      
                      {studiedKanji.length > 0 && (
                        <div className="mt-3 pt-3 border-t border-gray-200">
                          <div className="flex justify-between items-center text-sm text-gray-600">
                            <span>学習済み漢字: {studiedKanji.length}個</span>
                            {!reviewMode && studiedKanji.length >= 1 && (
                              <button
                                onClick={startReviewTest}
                                className="bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-xs transition-colors"
                              >
                                復習開始
                              </button>
                            )}
                          </div>
                        </div>
                      )}
                    </div>

                    {/* 問題表示 */}
                    {currentKanji && (
                      <div className="bg-white rounded-xl shadow-lg p-8">
                        <div className="text-center mb-6">
                          <div className="text-8xl font-bold text-indigo-800 mb-4">
                            {currentKanji.kanji}
                          </div>
                          {reviewMode && (
                            <div className="bg-orange-100 border border-orange-300 rounded-lg p-2 mb-4">
                              <p className="text-orange-800 font-semibold text-sm">
                                 復習テスト中 - 学習した漢字の確認です
                              </p>
                            </div>
                          )}
                          <p className="text-lg text-gray-700 mb-2">
                            この漢字の
                            <span className="font-semibold text-indigo-600">
                              {questionType === 'onyomi' ? '音読み' : '訓読み'}
                            </span>
                            は？
                          </p>
                          <p className="text-sm text-gray-500">
                            意味: {currentKanji.meaning}
                          </p>
                        </div>

                        {/* 選択肢 */}
                        <div className="grid grid-cols-2 gap-4 mb-6">
                          {options.map((option, index) => (
                            <button
                              key={index}
                              onClick={() => selectAnswer(option)}
                              disabled={showResult}
                              className={`p-4 rounded-lg border-2 text-lg font-medium transition-all
                                ${showResult
                                  ? option.isCorrect
                                    ? 'bg-green-100 border-green-500 text-green-800'
                                    : selectedAnswer === option
                                    ? 'bg-red-100 border-red-500 text-red-800'
                                    : 'bg-gray-100 border-gray-300 text-gray-600'
                                  : 'bg-white border-gray-300 hover:border-indigo-400 hover:bg-indigo-50'
                                }`}
                            >
                              {option.text}
                              {showResult && option.isCorrect && (
                                <span>{'✅'}</span>
                              )}
                              {showResult && selectedAnswer === option && !option.isCorrect && (
                                <span>{'❌'}</span>
                              )}
                            </button>
                          ))}
                        </div>

                        {/* 結果表示 */}
                        {showResult && (
                          <div className="text-center">
                            <div className={`text-lg font-semibold mb-4 ${
                              selectedAnswer?.isCorrect ? 'text-green-600' : 'text-red-600'
                            }`}>
                              {selectedAnswer?.isCorrect ? '正解です！' : '不正解です...'}
                            </div>
                            
                            <div className="bg-gray-50 rounded-lg p-4 mb-4 text-sm">
                              <div className="flex items-center justify-between mb-2">
                                <p className="font-semibold text-gray-800">答え:</p>
                                <button
                                  onClick={speakAnswerManually}
                                  className="flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-xs transition-colors"
                                  title="音声で読み上げ"
                                >
                                  {'🔊'}
                                  読み上げ
                                </button>
                              </div>
                              <p>音読み: {currentKanji.onyomi.join('、')}</p>
                              <p>訓読み: {currentKanji.kunyomi.join('、')}</p>
                            </div>

                            <div className="flex gap-3 justify-center">
                              <button
                                onClick={startTypingGame}
                                className="flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"
                              >
                                {'⌨️'}
                                タイピング
                              </button>
                              <button
                                onClick={nextQuestion}
                                className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors"
                              >
                                次の問題へ
                              </button>
                            </div>
                          </div>
                        )}
                      </div>
                    )}
                  </div>
                )}
              </div>
            </div>
          );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<KanjiPracticeApp />);
    </script>
</body>
</html>